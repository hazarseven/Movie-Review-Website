@{
    ViewData["Title"] = "TvSeries Detail";
}
@model TvSeriesDetailDTO

<h2>@Model.TvSeriesName</h2>
<p>@Model.Description</p>
<p>Director: @Model.Director</p>
<p>Cast: @Model.Cast</p>
<p>Release Date: @Model.ReleaseDate.ToShortDateString()</p>
<p>IMDB Rating: @Model.ImdbRating</p>
<p>Genre: @Model.Genre</p>

<!-- Yorumlar -->
<h3>Comments</h3>
@if (Model.Comments != null && Model.Comments.Any())
{
    <ul>
        @foreach (var comment in Model.Comments)
        {
            <li>
                <strong>@comment.UserName:</strong> @comment.UserComment
            </li>
        }
    </ul>
}
else
{
    <p>No comments yet.</p>
}

<!-- Yorum ekleme formu -->
@if (User.Identity.IsAuthenticated)
{
    <h3>Add Comment</h3>
    <form asp-controller="TvSeries" asp-action="TvSeriesDetail" method="post">
        <input type="hidden" name="id" value="@Model.Id" />
        <div class="form-group">
            <label for="userComment">Your Comment:</label>
            <textarea id="userComment" name="userComment" class="form-control" rows="4" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
}
else
{
    <p>Please <a href="/Users/Login">log in</a> to leave a comment.</p>
}
